@using Takinti.Models
<!-- Start Feature Product -->
<section class="categories-slider-area bg__white">
    <div class="container">
        <div class="row">
            <!-- Start Left Feature -->
            <div class="col-md-9 col-lg-9 col-sm-8 col-xs-12 float-left-style">
                <!-- Start Slider Area -->
                <div class="slider__container slider--one">
                    <div class="slider__activation__wrap owl-carousel owl-theme">
                        <!-- Start Single Slide -->
                        <div class="slide slider__full--screen slider-height-inherit slider-text-right" style="background: rgba(0, 0, 0, 0) url(/images/slider/bg/1.png) no-repeat scroll center center / cover ;">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-10 col-lg-8 col-md-offset-2 col-lg-offset-4 col-sm-12 col-xs-12">
                                        <div class="slider__inner">
                                            <h1>New Product <span class="text--theme">Collection</span></h1>
                                            <div class="slider__btn">
                                                <a class="htc__btn" href="cart.html">shop now</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Slide -->
                        <!-- Start Single Slide -->
                        <div class="slide slider__full--screen slider-height-inherit  slider-text-left" style="background: rgba(0, 0, 0, 0) url(/images/slider/bg/2.png) no-repeat scroll center center / cover ;">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12">
                                        <div class="slider__inner">
                                            <h1>New Product <span class="text--theme">Collection</span></h1>
                                            <div class="slider__btn">
                                                <a class="htc__btn" href="cart.html">shop now</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End Single Slide -->
                    </div>
                </div>
                <!-- Start Slider Area -->
            </div>
            <div class="col-md-3 col-lg-3 col-sm-4 col-xs-12 float-right-style">
                <div class="categories-menu mrg-xs">
                    <div class="category-heading">
                        <h3>Kategorilere Gözat</h3>
                    </div>
                    <div class="category-menu-list">
                        <ul>
                            @foreach (var category in (IEnumerable<Category>)ViewBag.Categories)
                            {
                                <li>
                                    <a href="@Url.Action("Index","Category",new { slug = category.Slug })">
                                        <img alt="" src="/images/icons/@category.Icon"> @category.Name
                                        @if (category.ChildCategories.Count() > 0)
                                        {
                                            <i class="zmdi zmdi-chevron-right"></i>}
                                    </a>
                                    @if (category.ChildCategories.Count() > 0)
                                    {
                                        <div class="category-menu-dropdown">
                                            @{ int cc = 1;}
                                            @foreach (var childCategory in category.ChildCategories)
                                            {
                                                <div class="category-part-@cc category-common mb--30">
                                                    <h4 class="categories-subtitle"> @childCategory.Name</h4>
                                                    @if (childCategory.ChildCategories.Count() > 0)
                                                    {
                                                        <ul>
                                                            @foreach (var subCategory in childCategory.ChildCategories)
                                                            {
                                                                <li><a href="@Url.Action("Index", "Category", new { slug = subCategory.Slug })">@subCategory.Name</a></li>
                                                            }
                                                        </ul>
                                                    }
                                                </div>
                                                cc++;
                                            }

                                        </div>
                                    }
                                </li>
                            }


                        </ul>
                    </div>
                </div>
            </div>
            <!-- End Left Feature -->
        </div>
    </div>
</section>
@foreach (var category in ((IEnumerable<Category>)ViewBag.Categories).Where(c => c.ShowInHome == true).ToList())
{

    <!-- End Feature Product -->
    <div class="only-banner ptb--100 bg__white">
        <div class="container">
            <div class="only-banner-img">
                <a href="shop-sidebar.html"><img src="/images/new-product/3.jpg" alt="new product"></a>
            </div>
        </div>
    </div>
    <!-- Start Our Product Area -->
    <section class="htc__product__area bg__white">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="product-categories-all">
                        <div class="product-categories-title">
                            <h3>@category.Name</h3>
                        </div>
                        <div class="product-categories-menu">

                            <ul>
                                @foreach (var childCategory in category.ChildCategories)
                                {
                                    <li><a href="@Url.Action("Index", "Category", new { slug = childCategory.Slug })">@childCategory.Name</a></li>
                                }

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="product-style-tab">
                        <div class="product-tab-list">
                            <!-- Nav tabs -->
                            <ul class="tab-style" role="tablist">
                                <li class="active">
                                    <a href="#home1" data-toggle="tab">
                                        <div class="tab-menu-text">
                                            <h4>En Yeniler</h4>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#home2" data-toggle="tab">
                                        <div class="tab-menu-text">
                                            <h4>En Çok Satanlar</h4>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#home3" data-toggle="tab">
                                        <div class="tab-menu-text">
                                            <h4>En Çok Beğenilenler</h4>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#home4" data-toggle="tab">
                                        <div class="tab-menu-text">
                                            <h4>Satıştakiler</h4>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content another-product-style jump">
                            <div class="tab-pane active" id="home1">
                                <div class="row">
                                    <div class="product-slider-active owl-carousel">
                                        @{ var newestProducts = category.Products.OrderByDescending(p => p.CreateDate).ToList();}
                                        @foreach (var product in newestProducts)
                                        {
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a href="@Url.Action("Index", "Product", new { slug = product.Slug })">
                                                                <img src="/images/product/@product.Photo" alt="@product.Name" width="270" height="270">
                                                            </a>
                                                        </div>
                                                        <div class="product__hover__info">
                                                            <ul class="product__action">
                                                                <li><a data-toggle="modal" data-target="#productModal" title="Hızlı Görünüm" class="quick-view modal-view detail-link" href="@Url.Action("Details", "Product", new { slug = product.Slug })"><span class="ti-plus"></span></a></li>
                                                                <li><a title="Sepete Ekle" href="javascript:void(0)" onclick="AddToCart('@product.Slug')"><span class="ti-shopping-cart"></span></a></li>
                                                                <li><a title="İstek Listesi" href="@Url.Action("Add","Wishlist",new { slug = product.Slug })"><span class="ti-heart"></span></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a href="@Url.Action("Index","Product",new { slug = product.Slug })">@product.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@(product.OldPrice)₺</li>
                                                            <li class="new__price">@(product.Price)₺</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="home2">
                                <div class="row">
                                    <div class="product-slider-active owl-carousel">
                                        @{ var mostSaleProducts = category.Products.OrderByDescending(p => p.SaleCount).ToList();}
                                        @foreach (var product in mostSaleProducts)
                                        {
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a href="@Url.Action("Index","Product",new { slug = product.Slug })">
                                                                <img src="/images/product/@product.Photo" alt="@product.Name" width="270" height="270">
                                                            </a>
                                                        </div>
                                                        <div class="product__hover__info">
                                                            <ul class="product__action">
                                                                <li><a data-toggle="modal" data-target="#productModal" title="Hızlı Görünüm" class="quick-view modal-view detail-link" href="@Url.Action("Index", "Product", new { slug = product.Slug })"><span class="ti-plus"></span></a></li>
                                                                <li><a title="Sepete Ekle" href="javascript:void(0)" onclick="AddToCart('@product.Slug')"><span class="ti-shopping-cart"></span></a></li>
                                                                <li><a title="İstek listesine Ekle" href="@Url.Action("Add","Wishlist",new { slug = product.Slug })"><span class="ti-heart"></span></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a href="@Url.Action("Index","Product",new { slug = product.Slug })">@product.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@(product.OldPrice)₺</li>
                                                            <li class="new__price">@(product.Price)₺</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="home3">
                                <div class="row">
                                    <div class="product-slider-active owl-carousel">
                                        @{ var mostRatedProducts = category.Products.OrderByDescending(p => p.Rating).ThenByDescending(t => t.RatingCount).ToList();}
                                        @foreach (var product in mostSaleProducts)
                                        {
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a href="@Url.Action("Index","Product",new { slug = product.Slug })">
                                                                <img src="/images/product/@product.Photo" alt="@product.Name" width="270" height="270">
                                                            </a>
                                                        </div>
                                                        <div class="product__hover__info">
                                                            <ul class="product__action">
                                                                <li><a data-toggle="modal" data-target="#productModal" title="Hızlı Görünüm" class="quick-view modal-view detail-link" href="@Url.Action("Index", "Product", new { slug = product.Slug })"><span class="ti-plus"></span></a></li>
                                                                <li><a title="Sepete Ekle" href="javascript:void(0)" onclick="AddToCart('@product.Slug')"><span class="ti-shopping-cart"></span></a></li>
                                                                <li><a title="İstek listesine Ekle" href="@Url.Action("Add","Wishlist",new { slug = product.Slug })"><span class="ti-heart"></span></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a href="@Url.Action("Index","Product",new { slug = product.Slug })">@product.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@(product.OldPrice)₺</li>
                                                            <li class="new__price">@(product.Price)₺</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                </div>
                            </div>

                            <div class="tab-pane" id="home4">
                                <div class="row">
                                    <div class="product-slider-active owl-carousel">
                                        @{ var onSaleProducts = category.Products.Where(w => w.IsInStock == true).OrderByDescending(p => p.Quantity).ToList();}
                                        @foreach (var product in mostSaleProducts)
                                        {
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a href="@Url.Action("Index","Product",new { slug = product.Slug })">
                                                                <img src="/images/product/@product.Photo" alt="@product.Name" width="270" height="270">
                                                            </a>
                                                        </div>
                                                        <div class="product__hover__info">
                                                            <ul class="product__action">
                                                                <li><a data-toggle="modal" data-target="#productModal" title="Hızlı Görünüm" class="quick-view modal-view detail-link" href="@Url.Action("Index", "Product", new { slug = product.Slug })"><span class="ti-plus"></span></a></li>
                                                                <li><a title="Sepete Ekle" href="javascript:void(0)" onclick="AddToCart('@product.Slug')"><span class="ti-shopping-cart"></span></a></li>
                                                                <li><a title="İstek listesine Ekle" href="@Url.Action("Add","Wishlist",new { slug = product.Slug })"><span class="ti-heart"></span></a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a href="@Url.Action("Index","Product",new { slug = product.Slug })">@product.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@(product.OldPrice)₺</li>
                                                            <li class="new__price">@(product.Price)₺</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
}

<style>
    .htc__blog__area {
        padding-top: 50px;
    }
</style>

<!-- Start Blog Area -->
<section class="htc__blog__area bg__white pb--130">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="section__title section__title--2 text-center">
                    <h2 class="title__line">Latest News</h2>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod temp incididunt ut labore et dolore magna aliqua. </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="blog__wrap clearfix mt--60 xmt-30">
                <!-- Start Single Blog -->
                <div class="col-md-4 col-lg-4 col-sm-6 col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="blog-details.html">
                                    <img src="/images/blog/blog-img/1.jpg" alt="blog images">
                                </a>
                                <div class="blog__post__time">
                                    <div class="post__time--inner">
                                        <span class="date">14</span>
                                        <span class="month">sep</span>
                                    </div>
                                </div>
                            </div>
                            <div class="blog__hover__info">
                                <div class="blog__hover__action">
                                    <p class="blog__des"><a href="blog-details.html">Lorem ipsum dolor sit consectetu.</a></p>
                                    <ul class="bl__meta">
                                        <li>By :<a href="#">Admin</a></li>
                                        <li>Product</li>
                                    </ul>
                                    <div class="blog__btn">
                                        <a class="read__more__btn" href="blog-details.html">read more</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Single Blog -->
                <!-- Start Single Blog -->
                <div class="col-md-4 col-lg-4 col-sm-6 col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="blog-details.html">
                                    <img src="/images/blog/blog-img/2.jpg" alt="blog images">
                                </a>
                                <div class="blog__post__time">
                                    <div class="post__time--inner">
                                        <span class="date">14</span>
                                        <span class="month">sep</span>
                                    </div>
                                </div>
                            </div>
                            <div class="blog__hover__info">
                                <div class="blog__hover__action">
                                    <p class="blog__des"><a href="blog-details.html">Lorem ipsum dolor sit consectetu.</a></p>
                                    <ul class="bl__meta">
                                        <li>By :<a href="#">Admin</a></li>
                                        <li>Product</li>
                                    </ul>
                                    <div class="blog__btn">
                                        <a class="read__more__btn" href="blog-details.html">read more</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Single Blog -->
                <!-- Start Single Blog -->
                <div class="col-md-4 col-lg-4 hidden-sm col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="blog-details.html">
                                    <img src="/images/blog/blog-img/3.jpg" alt="blog images">
                                </a>
                                <div class="blog__post__time">
                                    <div class="post__time--inner">
                                        <span class="date">14</span>
                                        <span class="month">sep</span>
                                    </div>
                                </div>
                            </div>
                            <div class="blog__hover__info">
                                <div class="blog__hover__action">
                                    <p class="blog__des"><a href="blog-details.html">Lorem ipsum dolor sit consectetu.</a></p>
                                    <ul class="bl__meta">
                                        <li>By :<a href="#">Admin</a></li>
                                        <li>Product</li>
                                    </ul>
                                    <div class="blog__btn">
                                        <a class="read__more__btn" href="blog-details.html">read more</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Single Blog -->
            </div>
        </div>
    </div>
</section>
<!-- End Blog Area -->
<div id="quickview-wrapper">
    <!-- Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal__container" role="document">
            <div class="modal-content">
            </div>
        </div><!-- .modal-content -->
    </div><!-- .modal-dialog -->
    <!-- END Modal -->
</div>
@section scripts{
<script>
    $('body').on('hidden.bs.modal', '.modal', function () {
        $(this).removeData('bs.modal');
    });
</script>
}